<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1609px" preserveAspectRatio="none" style="width:1055px;height:1609px;background:#FFFFFF;" version="1.1" viewBox="0 0 1055 1609" width="1055px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dw6vjgyftc34" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#E0FFFF" height="1597.7008" style="stroke:#A80036;stroke-width:1.0;" width="256" x="391" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="477.5" y="19.325">API Gateway</text><rect fill="#90EE90" height="1597.7008" style="stroke:#A80036;stroke-width:1.0;" width="191" x="669" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="68" x="729" y="19.325">DynamoDB</text><rect fill="#FFFFFF" filter="url(#f1dw6vjgyftc34)" height="92.7" style="stroke:#A80036;stroke-width:1.0;" width="10" x="453" y="124"/><rect fill="#FFFFFF" filter="url(#f1dw6vjgyftc34)" height="791.9006" style="stroke:#A80036;stroke-width:1.0;" width="10" x="453" y="275.6"/><rect fill="#FFFFFF" filter="url(#f1dw6vjgyftc34)" height="170.8501" style="stroke:#A80036;stroke-width:1.0;" width="10" x="582" y="1319.6508"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="194" y1="91.0999" y2="224.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="194" x2="194" y1="224.7" y2="252.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="194" y1="252.7" y2="1498.5009"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="194" x2="194" y1="1498.5009" y2="1526.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="194" y1="1526.5009" y2="1536.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="288" x2="288" y1="91.0999" y2="224.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="288" x2="288" y1="224.7" y2="252.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="288" x2="288" y1="252.7" y2="1498.5009"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="288" x2="288" y1="1498.5009" y2="1526.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="288" x2="288" y1="1526.5009" y2="1536.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458" x2="458" y1="91.0999" y2="224.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="458" x2="458" y1="224.7" y2="252.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458" x2="458" y1="252.7" y2="1498.5009"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="458" x2="458" y1="1498.5009" y2="1526.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458" x2="458" y1="1526.5009" y2="1536.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="587" x2="587" y1="91.0999" y2="224.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="587" x2="587" y1="224.7" y2="252.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="587" x2="587" y1="252.7" y2="1498.5009"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="587" x2="587" y1="1498.5009" y2="1526.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="587" x2="587" y1="1526.5009" y2="1536.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="717" x2="717" y1="91.0999" y2="224.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="717" x2="717" y1="224.7" y2="252.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="717" x2="717" y1="252.7" y2="1498.5009"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="717" x2="717" y1="1498.5009" y2="1526.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="717" x2="717" y1="1526.5009" y2="1536.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="813" x2="813" y1="91.0999" y2="224.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="813" x2="813" y1="224.7" y2="252.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="813" x2="813" y1="252.7" y2="1498.5009"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="813" x2="813" y1="1498.5009" y2="1526.5009"/><line style="stroke:#A80036;stroke-width:1.0;" x1="813" x2="813" y1="1526.5009" y2="1536.5009"/><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="80" x="152" y="50.0999"/><ellipse cx="170" cy="68.0999" fill="#FF0000" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M172.3906,73.3499 L171.6406,70.4906 L168.4063,70.4906 L167.6719,73.3499 L165.0781,73.3499 L168.2969,61.4906 L171.9063,61.4906 L175.1094,73.3499 L172.3906,73.3499 Z M170.0938,63.9437 L169.9688,63.9437 L168.8125,68.4437 L171.25,68.4437 L170.0938,63.9437 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="187" y="71.4499">Client</text><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="80" x="152" y="1535.5009"/><ellipse cx="170" cy="1553.5009" fill="#FF0000" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M172.3906,1558.7509 L171.6406,1555.8915 L168.4063,1555.8915 L167.6719,1558.7509 L165.0781,1558.7509 L168.2969,1546.8915 L171.9063,1546.8915 L175.1094,1558.7509 L172.3906,1558.7509 Z M170.0938,1549.3447 L169.9688,1549.3447 L168.8125,1553.8447 L171.25,1553.8447 L170.0938,1549.3447 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="187" y="1556.8509">Client</text><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="80" x="246" y="50.0999"/><ellipse cx="264" cy="68.0999" fill="#ADD8E6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M260.8125,62.2406 L264.9688,62.2406 Q266.7188,62.2406 267.6406,63.0843 Q268.5781,63.9281 268.5781,65.3968 Q268.5781,66.4124 268.0781,67.0218 Q267.5781,67.6156 266.6406,67.8968 L266.6406,67.9906 Q267.75,68.2718 268.3438,68.9593 Q268.9531,69.6312 268.9531,70.8343 Q268.9531,72.3343 268,73.2249 Q267.0625,74.0999 265.3594,74.0999 L260.8125,74.0999 L260.8125,62.2406 Z M264.5781,72.3187 Q265.5,72.3187 265.9219,72.0218 Q266.3438,71.7093 266.3438,70.8812 L266.3438,70.3968 Q266.3438,69.5843 265.9219,69.2718 Q265.5,68.9593 264.5781,68.9593 L263.2969,68.9593 L263.2969,72.3187 L264.5781,72.3187 Z M264.2656,67.2718 Q265.1563,67.2718 265.5625,66.9749 Q265.9844,66.6781 265.9844,65.8812 L265.9844,65.3812 Q265.9844,64.5999 265.5625,64.3187 Q265.1563,64.0218 264.2656,64.0218 L263.2969,64.0218 L263.2969,67.2718 L264.2656,67.2718 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="281" y="71.4499">Client</text><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="80" x="246" y="1535.5009"/><ellipse cx="264" cy="1553.5009" fill="#ADD8E6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M260.8125,1547.6415 L264.9688,1547.6415 Q266.7188,1547.6415 267.6406,1548.4853 Q268.5781,1549.329 268.5781,1550.7978 Q268.5781,1551.8134 268.0781,1552.4228 Q267.5781,1553.0165 266.6406,1553.2978 L266.6406,1553.3915 Q267.75,1553.6728 268.3438,1554.3603 Q268.9531,1555.0322 268.9531,1556.2353 Q268.9531,1557.7353 268,1558.6259 Q267.0625,1559.5009 265.3594,1559.5009 L260.8125,1559.5009 L260.8125,1547.6415 Z M264.5781,1557.7197 Q265.5,1557.7197 265.9219,1557.4228 Q266.3438,1557.1103 266.3438,1556.2822 L266.3438,1555.7978 Q266.3438,1554.9853 265.9219,1554.6728 Q265.5,1554.3603 264.5781,1554.3603 L263.2969,1554.3603 L263.2969,1557.7197 L264.5781,1557.7197 Z M264.2656,1552.6728 Q265.1563,1552.6728 265.5625,1552.3759 Q265.9844,1552.079 265.9844,1551.2822 L265.9844,1550.7822 Q265.9844,1550.0009 265.5625,1549.7197 Q265.1563,1549.4228 264.2656,1549.4228 L263.2969,1549.4228 L263.2969,1552.6728 L264.2656,1552.6728 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="281" y="1556.8509">Client</text><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="122" x="395" y="50.0999"/><ellipse cx="413" cy="68.0999" fill="#FFA500" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M411.2031,63.7249 L409.7344,63.7249 L409.7344,61.7718 L411.25,61.7718 Q412.2188,61.7718 412.7031,62.1468 Q413.2031,62.5062 413.5156,63.4437 L416.4375,72.3968 L417.4688,72.3968 L417.4688,74.3499 L416.3906,74.3499 Q415.4219,74.3499 414.9219,73.9906 Q414.4375,73.6156 414.125,72.6781 L413.4063,70.4749 L412.9375,68.3656 L412.75,68.3656 L412.25,70.4749 L410.9531,74.3499 L408.5625,74.3499 L411.7656,65.4281 L411.2031,63.7249 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="430" y="71.4499">create-game</text><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="122" x="395" y="1535.5009"/><ellipse cx="413" cy="1553.5009" fill="#FFA500" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M411.2031,1549.1259 L409.7344,1549.1259 L409.7344,1547.1728 L411.25,1547.1728 Q412.2188,1547.1728 412.7031,1547.5478 Q413.2031,1547.9072 413.5156,1548.8447 L416.4375,1557.7978 L417.4688,1557.7978 L417.4688,1559.7509 L416.3906,1559.7509 Q415.4219,1559.7509 414.9219,1559.3915 Q414.4375,1559.0165 414.125,1558.079 L413.4063,1555.8759 L412.9375,1553.7665 L412.75,1553.7665 L412.25,1555.8759 L410.9531,1559.7509 L408.5625,1559.7509 L411.7656,1550.829 L411.2031,1549.1259 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="430" y="1556.8509">create-game</text><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="108" x="531" y="50.0999"/><ellipse cx="549" cy="68.0999" fill="#FFA500" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M547.2031,63.7249 L545.7344,63.7249 L545.7344,61.7718 L547.25,61.7718 Q548.2188,61.7718 548.7031,62.1468 Q549.2031,62.5062 549.5156,63.4437 L552.4375,72.3968 L553.4688,72.3968 L553.4688,74.3499 L552.3906,74.3499 Q551.4219,74.3499 550.9219,73.9906 Q550.4375,73.6156 550.125,72.6781 L549.4063,70.4749 L548.9375,68.3656 L548.75,68.3656 L548.25,70.4749 L546.9531,74.3499 L544.5625,74.3499 L547.7656,65.4281 L547.2031,63.7249 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="566" y="71.4499">make-turn</text><rect fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" height="36" style="stroke:#A80036;stroke-width:1.5;" width="108" x="531" y="1535.5009"/><ellipse cx="549" cy="1553.5009" fill="#FFA500" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M547.2031,1549.1259 L545.7344,1549.1259 L545.7344,1547.1728 L547.25,1547.1728 Q548.2188,1547.1728 548.7031,1547.5478 Q549.2031,1547.9072 549.5156,1548.8447 L552.4375,1557.7978 L553.4688,1557.7978 L553.4688,1559.7509 L552.3906,1559.7509 Q551.4219,1559.7509 550.9219,1559.3915 Q550.4375,1559.0165 550.125,1558.079 L549.4063,1555.8759 L548.9375,1553.7665 L548.75,1553.7665 L548.25,1555.8759 L546.9531,1559.7509 L544.5625,1559.7509 L547.7656,1550.829 L547.2031,1549.1259 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="566" y="1556.8509">make-turn</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="673" y="87.25">client-queue</text><path d="M699,36.9 C699,26.9 717,26.9 717,26.9 C717,26.9 735,26.9 735,36.9 L735,62.9 C735,72.9 717,72.9 717,72.9 C717,72.9 699,72.9 699,62.9 L699,36.9 " fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" style="stroke:#000000;stroke-width:1.5;"/><path d="M699,36.9 C699,46.9 717,46.9 717,46.9 C717,46.9 735,46.9 735,36.9 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="673" y="1549.8509">client-queue</text><path d="M699,1563.7008 C699,1553.7008 717,1553.7008 717,1553.7008 C717,1553.7008 735,1553.7008 735,1563.7008 L735,1589.7008 C735,1599.7008 717,1599.7008 717,1599.7008 C717,1599.7008 699,1599.7008 699,1589.7008 L699,1563.7008 " fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" style="stroke:#000000;stroke-width:1.5;"/><path d="M699,1563.7008 C699,1573.7008 717,1573.7008 717,1573.7008 C717,1573.7008 735,1573.7008 735,1563.7008 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="771" y="87.25">game-states</text><path d="M795.5,36.9 C795.5,26.9 813.5,26.9 813.5,26.9 C813.5,26.9 831.5,26.9 831.5,36.9 L831.5,62.9 C831.5,72.9 813.5,72.9 813.5,72.9 C813.5,72.9 795.5,72.9 795.5,62.9 L795.5,36.9 " fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" style="stroke:#000000;stroke-width:1.5;"/><path d="M795.5,36.9 C795.5,46.9 813.5,46.9 813.5,46.9 C813.5,46.9 831.5,46.9 831.5,36.9 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="771" y="1549.8509">game-states</text><path d="M795.5,1563.7008 C795.5,1553.7008 813.5,1553.7008 813.5,1553.7008 C813.5,1553.7008 831.5,1553.7008 831.5,1563.7008 L831.5,1589.7008 C831.5,1599.7008 813.5,1599.7008 813.5,1599.7008 C813.5,1599.7008 795.5,1599.7008 795.5,1589.7008 L795.5,1563.7008 " fill="#FEFECE" filter="url(#f1dw6vjgyftc34)" style="stroke:#000000;stroke-width:1.5;"/><path d="M795.5,1563.7008 C795.5,1573.7008 813.5,1573.7008 813.5,1573.7008 C813.5,1573.7008 831.5,1573.7008 831.5,1563.7008 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1dw6vjgyftc34)" height="92.7" style="stroke:#A80036;stroke-width:1.0;" width="10" x="453" y="124"/><rect fill="#FFFFFF" filter="url(#f1dw6vjgyftc34)" height="791.9006" style="stroke:#A80036;stroke-width:1.0;" width="10" x="453" y="275.6"/><rect fill="#FFFFFF" filter="url(#f1dw6vjgyftc34)" height="170.8501" style="stroke:#A80036;stroke-width:1.0;" width="10" x="582" y="1319.6508"/><polygon fill="#A80036" points="441,120,451,124,441,128,445,124" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="447" y1="124" y2="124"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="201" y="118.4249">{"action": "create-game"}</text><polygon fill="#A80036" points="705,150.9,715,154.9,705,158.9,709,154.9" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="463" x2="711" y1="154.9" y2="154.9"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="470" y="149.325">get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="492" y="149.325">*</text><polygon fill="#A80036" points="474,181.8,464,185.8,474,189.8,470,185.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="468" x2="716" y1="185.8" y2="185.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="480" y="180.225">[]</text><polygon fill="#A80036" points="705,212.7,715,216.7,705,220.7,709,216.7" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="458" x2="711" y1="216.7" y2="216.7"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="465" y="211.125">put</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="489" y="211.125">{"id": @connection-a}</text><polygon fill="#A80036" points="441,271.6,451,275.6,441,279.6,445,275.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="288" x2="447" y1="275.6" y2="275.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="295" y="270.025">{"action": "create-game"}</text><polygon fill="#A80036" points="705,302.5,715,306.5,705,310.5,709,306.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="463" x2="711" y1="306.5" y2="306.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="470" y="300.925">get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="492" y="300.925">*</text><polygon fill="#A80036" points="474,333.4,464,337.4,474,341.4,470,337.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="468" x2="716" y1="337.4" y2="337.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="480" y="331.825">[{"id": @connection-a}]</text><polygon fill="#A80036" points="705,364.3001,715,368.3001,705,372.3001,709,368.3001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="463" x2="711" y1="368.3001" y2="368.3001"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38" x="470" y="362.7251">delete</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="511" y="362.7251">@connection-a</text><polygon fill="#A80036" points="801.5,611.4503,811.5,615.4503,801.5,619.4503,805.5,615.4503" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="463" x2="807.5" y1="615.4503" y2="615.4503"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="470" y="609.8753">put</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="494" y="609.8753">{...}</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63" x="517" y="609.8753">(sane TTL)</text><path d="M818,381.3001 L818,830.3001 L1046,830.3001 L1046,391.3001 L1036,381.3001 L818,381.3001 " fill="#FBFB77" filter="url(#f1dw6vjgyftc34)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1036,381.3001 L1036,391.3001 L1046,391.3001 L1036,381.3001 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="824" y="399.6251">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="836" y="416.5251">"id": @game-a-b,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="836" y="433.4251">"players": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="848" y="450.3251">@connection-a: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="860" y="467.2251">"units": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="872" y="484.1251">[1, 1]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="860" y="501.0252">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="860" y="517.9252">"walls": [],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="860" y="534.8252">"reachable": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="872" y="551.7252">[1, 2], [2, 1], [2, 2]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="860" y="568.6252">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="848" y="585.5252">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="848" y="602.4252">@connection-b: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="860" y="619.3253">"units": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="872" y="636.2253">[10, 10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="860" y="653.1253">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="860" y="670.0253">"walls": []</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="860" y="686.9253">"reachable": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="872" y="703.8253">[9, 9], [9, 10], [10, 9]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="860" y="720.7253">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="848" y="737.6254">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="836" y="754.5254">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="836" y="771.4254">"active-player": @connection-a,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="836" y="788.3254">"passive-player": @connection-b,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="836" y="805.2254">"turns-left": 3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="824" y="822.1254">}</text><polygon fill="#A80036" points="299,858.6005,289,862.6005,299,866.6005,295,862.6005" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="293" x2="452" y1="862.6005" y2="862.6005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="305" y="857.0255">{...}</text><polygon fill="#A80036" points="205,1063.5006,195,1067.5006,205,1071.5006,201,1067.5006" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="199" x2="457" y1="1067.5006" y2="1067.5006"/><path d="M5,875.6005 L5,1256.6005 L185,1256.6005 L185,885.6005 L175,875.6005 L5,875.6005 " fill="#FBFB77" filter="url(#f1dw6vjgyftc34)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M175,875.6005 L175,885.6005 L185,885.6005 L175,875.6005 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="893.9255">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="23" y="910.8255">"game-id": @game-a-b,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="23" y="927.7255">"turns-left": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="23" y="944.6255">"self": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="35" y="961.5255">"units": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="47" y="978.4255">[1, 1]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="35" y="995.3256">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="35" y="1012.2256">"walls": [],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="35" y="1029.1256">"reachable": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="47" y="1046.0256">[1, 2], [2, 1], [2, 2]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="35" y="1062.9256">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="23" y="1079.8256">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="23" y="1096.7256">"opponent": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="35" y="1113.6257">"units": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="47" y="1130.5257">[10, 10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="35" y="1147.4257">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="35" y="1164.3257">"walls": [],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="35" y="1181.2257">"reachable": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="47" y="1198.1257">[9, 9], [9, 10], [10, 9]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="35" y="1215.0258">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="23" y="1231.9258">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="1248.8258">}</text><polygon fill="#A80036" points="570,1315.6508,580,1319.6508,570,1323.6508,574,1319.6508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="194" x2="576" y1="1319.6508" y2="1319.6508"/><path d="M597,1271.4008 L597,1365.4008 L768,1365.4008 L768,1281.4008 L758,1271.4008 L597,1271.4008 " fill="#FBFB77" filter="url(#f1dw6vjgyftc34)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M758,1271.4008 L758,1281.4008 L768,1281.4008 L758,1271.4008 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="603" y="1289.7258">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="615" y="1306.6258">"game-id": @game-a-b,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="615" y="1323.5258">"action": "make-turn",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="615" y="1340.4258">"cell": [1, 2]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="603" y="1357.3259">}</text><polygon fill="#A80036" points="801.5,1393.8009,811.5,1397.8009,801.5,1401.8009,805.5,1397.8009" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="592" x2="807.5" y1="1397.8009" y2="1397.8009"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="599" y="1392.2259">get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="621" y="1392.2259">@game-a-b</text><polygon fill="#A80036" points="603,1424.7009,593,1428.7009,603,1432.7009,599,1428.7009" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="597" x2="812.5" y1="1428.7009" y2="1428.7009"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="609" y="1423.1259">{...}</text><polygon fill="#A80036" points="801.5,1455.6009,811.5,1459.6009,801.5,1463.6009,805.5,1459.6009" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="592" x2="807.5" y1="1459.6009" y2="1459.6009"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="599" y="1454.0259">put</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="623" y="1454.0259">{...}</text><polygon fill="#A80036" points="205,1486.5009,195,1490.5009,205,1494.5009,201,1490.5009" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="199" x2="586" y1="1490.5009" y2="1490.5009"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="211" y="1484.9259">{...}</text><!--MD5=[b9cdc667e569e9ed77914d0518de07a5]
@startuml

skinparam boxpadding 10

participant Client as a <<(A,red)>>
participant Client as b <<(B,lightblue)>>

box API Gateway #lightcyan
    participant "create-game" as lg <<(λ,orange)>>
    participant "make-turn" as lt <<(λ,orange)>>
end box

box DynamoDB #lightgreen
database "client-queue" as clients
database "game-states" as games
end box

a -> lg ++ : {"action": "create-game"}
lg -> clients : **get** *
clients -> lg : []
lg -> clients - - : **put** {"id": @connection-a}

...

b -> lg ++ : {"action": "create-game"}
lg -> clients : **get** *
clients -> lg : [{"id": @connection-a}]
lg -> clients : **delete** @connection-a
lg -> games : **put** {...} **(sane TTL)**
note right
{
    "id": @game-a-b,
    "players": {
        @connection-a: {
            "units": [
                [1, 1]
            ],
            "walls": [],
            "reachable": [
                [1, 2], [2, 1], [2, 2]
            ]
        },
        @connection-b: {
            "units": [
                [10, 10]
            ],
            "walls": []
            "reachable": [
                [9, 9], [9, 10], [10, 9]
            ]
        }
    },
    "active-player": @connection-a,
    "passive-player": @connection-b,
    "turns-left": 3
}
end note

lg -> b : {...}
lg -> a - -
note left
{
    "game-id": @game-a-b,
    "turns-left": 3,
    "self": {
        "units": [
            [1, 1]
        ],
        "walls": [],
        "reachable": [
            [1, 2], [2, 1], [2, 2]
        ]
    },
    "opponent": {
        "units": [
            [10, 10]
        ],
        "walls": [],
        "reachable": [
            [9, 9], [9, 10], [10, 9]
        ]
    }
}
end note

a -> lt ++
note right
{
    "game-id": @game-a-b,
    "action": "make-turn",
    "cell": [1, 2]
}
end note

lt -> games : **get** @game-a-b
games -> lt : {...}
lt -> games : **put** {...}
lt -> a - - : {...}

...

@enduml

PlantUML version 1.2021.16(Wed Dec 08 19:25:22 EET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>